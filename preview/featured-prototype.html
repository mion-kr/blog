<!doctype html>
<html lang="ko">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>í™ˆ Featured ë ˆì´ì•„ì›ƒ í”„ë¦¬ë·°</title>
    <style>
      :root{
        --bg:#0b1220; /* background */
        --card:#0f172a; /* surface */
        --muted:#111827; /* muted */
        --border:#1f2937; /* border */
        --text:#e5e7eb; /* text primary */
        --text-2:#94a3b8; /* text secondary */
        --primary:#3b82f6; /* accent primary */
        --radius:14px;
      }
      *{box-sizing:border-box}
      html,body{height:100%}
      body{
        margin:0; background:var(--bg); color:var(--text);
        font: 14px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial;
      }
      .container{max-width:1120px; margin:32px auto; padding:0 16px}
      .section-title{display:flex; align-items:center; justify-content:space-between; margin:0 0 16px}
      .section-title h2{margin:4px 0 0; font-size:28px}
      .grid{display:grid; grid-template-columns: 2fr 1fr; gap:16px}
      @media (max-width: 1024px){.grid{grid-template-columns:1fr}}
      .card{background:var(--card); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden}
      .main{display:grid; grid-template-columns: 1.2fr 1fr; height:100%}
      @media (max-width: 768px){.main{grid-template-columns:1fr}}
      .media{position:relative; min-height:260px; background:linear-gradient(135deg,#1e293b,#0ea5e9)}
      .media img{position:absolute; inset:0; width:100%; height:100%; object-fit:cover}
      .content{padding:20px}
      .category{display:inline-flex; align-items:center; gap:6px; background:#111827; color:#e5e7eb; padding:4px 10px; border-radius:999px; font-size:12px}
      .title{margin:10px 0; font-size:24px; line-height:1.2}
      .excerpt{color:var(--text-2); margin:6px 0 14px}
      .meta{display:flex; flex-wrap:wrap; gap:14px; color:var(--text-2); font-size:12px}
      .side{display:flex; flex-direction:column; gap:12px}
      .mini{display:flex; gap:12px; padding:12px}
      .mini .thumb{flex:0 0 112px; height:84px; background:var(--muted); border-radius:10px; overflow:hidden}
      .mini .thumb img{width:100%; height:100%; object-fit:cover}
      .mini .info{min-width:0}
      .mini .mini-title{margin:0 0 6px; font-weight:600; line-height:1.3; display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden}
      .mini .mini-meta{display:flex; gap:10px; color:var(--text-2); font-size:12px}
      .link{color:var(--primary); text-decoration:none}
      .pill{display:inline-flex; align-items:center; gap:6px; background:#0b1324; padding:4px 10px; border-radius:8px; font-size:12px}
      /* íƒœê·¸ ì¹© - ëª©ë¡ í™”ë©´ì˜ .blog-tag í†¤ê³¼ ìœ ì‚¬í•˜ê²Œ */
      :root{ --secondary: #1e293b; --secondary-fg: #e5e7eb; }
      .tags{display:flex; flex-wrap:wrap; gap:8px; margin:6px 0 6px}
      .tag{display:inline-flex; align-items:center; gap:6px; background:var(--secondary); color:var(--secondary-fg); padding:2px 10px; border-radius:4px; font-size:12px; font-weight:500; transition:background-color .2s ease}
      .tag:hover{ background:#243047 }
      .tag svg{width:14px; height:14px}
      /* Empty state */
      .empty{display:flex; flex-direction:column; align-items:center; justify-content:center; gap:8px; text-align:center; padding:48px; border:1px dashed var(--border); border-radius:var(--radius); background:var(--card)}
    </style>
  </head>
  <body>
    <div class="container">
      <div class="section-title">
        <div>
          <div style="color:var(--text-2); font-weight:600; font-size:12px">Editor's Pick</div>
          <h2>ê°€ì¥ ì£¼ëª©ë°›ëŠ” í¬ìŠ¤íŠ¸</h2>
        </div>
        <a class="link" href="#">ëª¨ë“  í¬ìŠ¤íŠ¸ ë³´ê¸° â†’</a>
      </div>

      <div class="grid" id="featuredGrid">
        <article class="card main" id="mainCard">
          <div class="media" id="mainMedia"></div>
          <div class="content">
            <h3 class="title" id="mainTitle">ì œëª©</h3>
            <div class="tags" id="mainTags"></div>
            <p class="excerpt" id="mainExcerpt">ìš”ì•½</p>
            <div class="meta"><span id="mainDate">2025ë…„ 10ì›” 17ì¼</span><span id="mainViews">58 views</span><span id="mainAuthor">ë¯¸ì˜¨</span></div>
          </div>
        </article>

        <div class="side" id="sideList"></div>
      </div>
    </div>

    <script>
      // ìƒ˜í”Œ ë°ì´í„° (ì‹¤ì„œë¹„ìŠ¤ì™€ ë¬´ê´€)
      const sample = [
        {title:'[ì´ìŠˆ] Grpcë¡œ êµ¬ì„±ëœ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ íŠ¸ë˜í”½ í¸í–¥ ë°œìƒ', category:'ê°œë°œ', tags:['gRPC','Nest.js'], excerpt:'Grpcë¡œ êµ¬ì„±ëœ ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì˜ íŠ¸ë˜í”½ í¸í–¥ ë°œìƒ ì´ìŠˆë¥¼ ê³µìœ í•©ë‹ˆë‹¤.', date:'2025ë…„ 10ì›” 27ì¼', views:37, author:'ë¯¸ì˜¨', cover:''},
        {title:'JWTì™€ JWEì˜ ì°¨ì´ì ', category:'Security', tags:['Security','JWT'], excerpt:'JWTì™€ JWEì˜ ì°¨ì´ì ì„ ë¶„ì„í•©ë‹ˆë‹¤.', date:'2025ë…„ 10ì›” 20ì¼', views:53, author:'ë¯¸ì˜¨', cover:''},
        {title:'AWSì™€ Railway ë¹„êµ', category:'Infra', tags:['Infra','Cloud'], excerpt:'ì—…ë¬´ìš©ìœ¼ë¡œ ì‚¬ìš©í•´ë³¸ ì†Œê°ê³¼ ì°¨ì´ë¥¼ ë¹„êµí•©ë‹ˆë‹¤.', date:'2025ë…„ 10ì›” 17ì¼', views:60, author:'ë¯¸ì˜¨', cover:''},
        {title:'NestJSë¡œ ë¸”ë¡œê·¸ API ë§Œë“¤ê¸°', category:'Nest.js', tags:['Nest.js','API'], excerpt:'NestJS 11ì„ ì‚¬ìš©í•œ API ì„¤ê³„ê¸°.', date:'2025ë…„ 9ì›” 22ì¼', views:44, author:'ë¯¸ì˜¨', cover:''},
        {title:'Next.js 15 ì—…ê·¸ë ˆì´ë“œ ì²´í¬ë¦¬ìŠ¤íŠ¸', category:'Next.js', tags:['Next.js','Upgrade','Guide'], excerpt:'ì•ˆì „í•œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒ ëª¨ìŒ.', date:'2025ë…„ 9ì›” 2ì¼', views:120, author:'ë¯¸ì˜¨', cover:''},
      ];

      // ìš°ì¸¡ ì•„ì´í…œ ê°œìˆ˜ (1~4) â€” URL íŒŒë¼ë¯¸í„° ?count=3 ë¡œ ì¡°ì ˆ ê°€ëŠ¥
      // ë¹ˆ ìƒíƒœ ì‹œë®¬ë ˆì´í„°: ?empty=1 ë˜ëŠ” ?empty=true
      const params = new URLSearchParams(location.search);
      const count = Math.max(1, Math.min(4, Number(params.get('count')) || 4));
      const isEmpty = params.get('empty') === '1' || params.get('empty') === 'true';

      // ë©”ì¸ ì¹´ë“œ ë Œë”
      const data = isEmpty ? [] : sample;

      // ë¹ˆ ìƒíƒœ: ì„¹ì…˜ ì „ì²´ EmptyStateë¡œ ëŒ€ì²´
      if (data.length === 0) {
        const grid = document.getElementById('featuredGrid');
        grid.innerHTML = `
          <div class="card empty" style="grid-column:1 / -1">
            <div class="mb-2" style="display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:9999px;background:var(--secondary);color:var(--secondary-fg)">ğŸ“</div>
            <h3 style="margin:0;font-size:18px">ì²« ë²ˆì§¸ í¬ìŠ¤íŠ¸ë¥¼ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”</h3>
            <p style="margin:0;color:var(--text-2)">ìƒˆë¡œìš´ í¬ìŠ¤íŠ¸ê°€ ì¤€ë¹„ë˜ë©´ ì´ê³³ì—ì„œ ë°”ë¡œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì–´ìš”.</p>
          </div>`;
      } else {
        const main = data[0];
      document.getElementById('mainTitle').textContent = main.title;
      document.getElementById('mainExcerpt').textContent = main.excerpt;
      document.getElementById('mainDate').textContent = main.date;
      document.getElementById('mainViews').textContent = main.views + ' views';
      document.getElementById('mainAuthor').textContent = main.author;
      if (main.cover){
        const img = new Image(); img.src = main.cover; document.getElementById('mainMedia').appendChild(img);
      }
      // ë©”ì¸ ì¹´ë“œ íƒœê·¸ (ì œëª© ë’¤)
      const mainTagsEl = document.getElementById('mainTags');
      const TAG_ICON = '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden><path d="M20.59 13.41 11 3H4v7l9.59 9.59a2 2 0 0 0 2.82 0l4.18-4.18a2 2 0 0 0 0-2.82z"></path><path d="M7 7h.01"></path></svg>';
      const mainTags = (main.tags || []).slice(0,4);
      const mainMore = (main.tags || []).length - mainTags.length;
      mainTagsEl.innerHTML = mainTags.map(t => `<span class="tag">${TAG_ICON}${t}</span>`).join('') + (mainMore>0 ? `<span class="tag">+${mainMore}</span>` : '');

      // ìš°ì¸¡ ë¦¬ìŠ¤íŠ¸ ë Œë” (ìµœëŒ€ 4)
      const side = document.getElementById('sideList');
      const sideItems = data.slice(1, 1 + count);
      sideItems.forEach(p => {
        const item = document.createElement('article');
        item.className = 'card mini';
        const tags = (p.tags || []).slice(0,2);
        const more = (p.tags || []).length - tags.length;
        const tagHtml = tags.map(t => `<span class="tag">${TAG_ICON}${t}</span>`).join('') + (more>0 ? `<span class="tag">+${more}</span>` : '');
        item.innerHTML = `
          <div class="thumb"></div>
          <div class="info">
            <h4 class="mini-title">${p.title}</h4>
            <div class="tags">${tagHtml}</div>
            <div class="mini-meta"><span>${p.date}</span><span>${p.views} views</span></div>
          </div>`;
        side.appendChild(item);
      });

      // ìš°ì¸¡ì— í‘œì‹œí•  ê¸€ì´ ì—†ëŠ” ê²½ìš° ë³´ì¡° EmptyState
      if (sideItems.length === 0) {
        side.innerHTML = `
          <div class="card empty">
            <h4 style="margin:0;font-size:16px">ì¶”ê°€ í¬ìŠ¤íŠ¸ê°€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤</h4>
            <p style="margin:0;color:var(--text-2)">ìƒˆë¡œìš´ ê¸€ì´ ë°œí–‰ë˜ë©´ ì´ê³³ì—ì„œ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ìš”.</p>
          </div>`;
      }
    }
    </script>
  </body>
</html>
