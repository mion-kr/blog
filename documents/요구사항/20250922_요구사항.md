# 블로그 UI 개선 요구사항 명세서

**문서 버전**: 1.1  
**작성일**: 2025-09-22  
**업데이트**: 2025-09-22 (디자인 시스템 분석 반영)  
**프로젝트**: Blog Frontend UI Redesign  
**담당자**: mion-kr

## 1. 개요

### 1.1 프로젝트 배경

현재 블로그의 네비게이션 구조가 상단 헤더에 집중되어 있어 사용자 경험과 시각적 균형에 개선이 필요한 상황입니다. 더 나은 사용자 경험과 현대적인 블로그 레이아웃을 위해 네비게이션 구조를 사이드바 기반으로 변경하고자 합니다.

### 1.2 목표

- 상단 헤더에서 카테고리, 태그 메뉴를 제거하여 헤더 영역 간소화
- 우측 사이드바에 카테고리 및 태그 정보를 체계적으로 배치
- 티스토리 블로그와 유사한 직관적인 네비게이션 구조 구현
- 사용자의 콘텐츠 탐색 경험 향상
- **기존 스타일 시스템과 완전한 호환성 보장**

## 2. 기능적 요구사항 (Functional Requirements)

### 2.1 헤더 영역 변경사항

- **REQ-F-001**: 상단 헤더에서 "카테고리" 네비게이션 메뉴 제거
- **REQ-F-002**: 상단 헤더에서 "태그" 네비게이션 메뉴 제거
- **REQ-F-003**: 헤더는 로고, 검색, 로그인/프로필 영역만 유지
- **REQ-F-004**: 모바일 환경에서 헤더 간소화 적용

### 2.2 사이드바 영역 신규 구현

- **REQ-F-005**: 우측 영역에 고정형 사이드바 구현
- **REQ-F-006**: 사이드바 내 카테고리 섹션 구현
- **REQ-F-007**: 사이드바 내 태그 섹션 구현
- **REQ-F-008**: 사이드바는 스크롤 시 고정 위치 유지 (sticky)

### 2.3 카테고리 표시 기능

- **REQ-F-009**: 리스트형 카테고리 표시 (• Frontend (15) 형태)
- **REQ-F-010**: 각 카테고리별 포스트 수 표시
- **REQ-F-011**: 카테고리 클릭 시 해당 카테고리 포스트 필터링
- **REQ-F-012**: 계층형 카테고리 구조 지원 (하위 카테고리 들여쓰기)

### 2.4 태그 클라우드 기능

- **REQ-F-013**: 태그 클라우드 형태로 태그 표시
- **REQ-F-014**: 태그 사용 빈도에 따른 글씨 크기 차별화
- **REQ-F-015**: 태그 사용 빈도에 따른 색상 차별화
- **REQ-F-016**: 태그 클릭 시 해당 태그 포스트 필터링

### 2.5 반응형 지원

- **REQ-F-017**: 데스크톱: 우측 고정 사이드바
- **REQ-F-018**: 태블릿: 접을 수 있는 사이드바 또는 하단 배치
- **REQ-F-019**: 모바일: 별도 네비게이션 페이지 또는 하단 탭

## 3. 비기능적 요구사항 (Non-functional Requirements)

### 3.1 성능 요구사항

- **REQ-NF-001**: 사이드바 로딩 시간 500ms 이하
- **REQ-NF-002**: 카테고리/태그 데이터 캐싱으로 반복 요청 최소화
- **REQ-NF-003**: 레이아웃 변경 시 CLS(Cumulative Layout Shift) 최소화

### 3.2 사용성 요구사항

- **REQ-NF-004**: 사이드바 영역은 전체 화면 너비의 20-25% 차지
- **REQ-NF-005**: 카테고리, 태그 영역 간 시각적 구분 명확화
- **REQ-NF-006**: 접근성 가이드라인 준수 (WCAG 2.1 AA)

### 3.3 호환성 요구사항

- **REQ-NF-007**: 기존 URL 구조 유지 (/category/[slug], /tag/[slug])
- **REQ-NF-008**: 기존 API 엔드포인트 변경 없이 구현
- **REQ-NF-009**: SEO 영향 최소화

## 4. 사용자 요구사항 (User Requirements)

### 4.1 일반 사용자

- 직관적인 카테고리 탐색
- 관심 태그를 통한 빠른 콘텐츠 발견
- 모든 기기에서 일관된 탐색 경험

### 4.2 블로그 관리자

- 기존 콘텐츠 관리 방식 유지
- 새로운 UI에 대한 사용자 피드백 모니터링 가능

## 5. 시스템 요구사항 (System Requirements)

### 5.1 프론트엔드 기술 스택

- Next.js 15 App Router 기반 구현
- Tailwind CSS를 활용한 반응형 디자인
- shadcn/ui 컴포넌트 시스템 활용
- TypeScript 타입 안전성 보장

### 5.2 데이터 요구사항

- 기존 카테고리 테이블 구조 활용
- 기존 태그 테이블 구조 활용
- 포스트 수 집계를 위한 효율적 쿼리 구현

### 5.3 API 요구사항

- GET /api/categories - 계층형 카테고리 목록 및 포스트 수
- GET /api/tags - 태그 목록 및 사용 빈도
- 기존 필터링 API 호환성 유지

## 6. 비즈니스 요구사항 (Business Requirements)

### 6.1 비즈니스 목표

- 사용자 체류 시간 증가
- 페이지 간 이동률 향상
- 콘텐츠 탐색 효율성 개선

### 6.2 성공 지표

- 카테고리/태그 클릭률 측정
- 평균 세션 시간 변화 모니터링
- 바운스율 개선도 측정

## 7. UI/UX 상세 명세

### 7.1 사이드바 레이아웃

```
┌─────────────────────┐
│ 카테고리            │
├─────────────────────┤
│ • Frontend (15)     │
│   - React (8)       │
│   - Next.js (7)     │
│ • Backend (12)      │
│ • DevOps (5)        │
└─────────────────────┘
│                     │
├─────────────────────┤
│ 태그 클라우드        │
├─────────────────────┤
│ #React #JavaScript  │
│ #NextJS #TypeScript │
│ #NestJS #Database   │
└─────────────────────┘
```

### 7.2 시각적 디자인 가이드

- **카테고리**:
  - 기본 텍스트 색상: text-gray-700
  - 호버 색상: text-blue-600
  - 포스트 수: text-gray-500, 소괄호 표시
  - 하위 카테고리: 들여쓰기 16px

- **태그 클라우드**:
  - 기본 크기: text-sm
  - 인기 태그: text-base ~ text-lg
  - 색상 그라데이션: blue-500 ~ blue-800
  - 태그 간 여백: 4px

### 7.3 반응형 브레이크포인트

- **Desktop (1200px+)**: 우측 고정 사이드바
- **Tablet (768px ~ 1199px)**: 접이식 사이드바
- **Mobile (~ 767px)**: 하단 시트 또는 별도 페이지

## 8. 수용 기준 (Acceptance Criteria)

### 8.1 기능적 수용 기준

- [ ] 상단 헤더에서 카테고리, 태그 메뉴가 완전히 제거됨
- [ ] 우측 사이드바에 카테고리가 리스트형으로 표시됨
- [ ] 우측 사이드바에 태그가 클라우드형으로 표시됨
- [ ] 카테고리 클릭 시 해당 포스트로 필터링됨
- [ ] 태그 클릭 시 해당 포스트로 필터링됨
- [ ] 모든 화면 크기에서 적절히 표시됨

### 8.2 성능 수용 기준

- [ ] 사이드바 초기 로딩 시간 500ms 이하
- [ ] 카테고리/태그 클릭 반응 시간 200ms 이하
- [ ] Lighthouse 성능 점수 90점 이상 유지

### 8.3 접근성 수용 기준

- [ ] 키보드 네비게이션 지원
- [ ] 스크린 리더 호환성
- [ ] 색상 대비율 4.5:1 이상

### 8.4 스타일 호환성 수용 기준 (신규 추가)

- [ ] 기존 페이지들의 시각적 변화 없음 (사이드바 추가 영역 제외)
- [ ] 기존 CSS 클래스들 정상 작동
- [ ] 다크/라이트 모드 사이드바 연동 완료
- [ ] 모든 브레이크포인트에서 레이아웃 깨짐 없음

## 9. 기술적 구현 요구사항

### 9.1 컴포넌트 구조

기존 스타일 보존을 위한 구조적 확장:

```
apps/blog-web/src/components/
├── layout/
│   ├── site-header.tsx (카테고리, 태그 메뉴만 제거)
│   ├── main-layout.tsx (신규 - 사이드바 레이아웃 래퍼)
│   └── sidebar/
│       ├── index.tsx (blog-sidebar 클래스 사용)
│       ├── category-list.tsx (blog-sidebar-category 클래스)
│       └── tag-cloud.tsx (blog-sidebar-tag 클래스)
└── posts/
    └── posts-filter.tsx (수정 또는 제거)
```

### 9.2 API 수정사항

- 카테고리 API에 포스트 수 집계 추가
- 태그 API에 사용 빈도 집계 추가
- 기존 필터링 로직 유지

### 9.3 데이터 구조

```typescript
interface CategoryWithCount {
  id: string;
  name: string;
  slug: string;
  parentId?: string;
  children?: CategoryWithCount[];
  postCount: number;
}

interface TagWithCount {
  id: string;
  name: string;
  slug: string;
  postCount: number;
  popularity: "low" | "medium" | "high";
}
```

### 9.4 디자인 시스템 호환성 (신규 추가)

- **현재 기술 스택**: Tailwind CSS v4 + CSS Variables 시스템
- **색상 시스템**: 기존 Slate 계열 Primary Colors (50~950) 완전 활용
- **CSS 변수 보존**: 모든 `var(--color-*)` 변수 그대로 사용
- **테마 시스템**: 기존 다크/라이트 모드 시스템과 완전 연동
- **타이포그래피**: 기존 font-size, font-weight 변수 재사용

### 9.5 CSS 아키텍처 요구사항 (신규 추가)

- **클래스 네이밍**: `.blog-sidebar-*` 접두사 의무 사용
- **CSS 계층**: `@layer components`에 모든 사이드바 스타일 추가
- **기존 클래스 보존**: `.blog-header`, `.blog-nav-link` 등 절대 변경 금지
- **z-index 준수**: 기존 계층 구조 (header: 50, dropdown: 50) 유지

### 9.6 레이아웃 변경 상세 명세 (신규 추가)

```typescript
// 현재 구조 (보존)
<main className="max-w-6xl mx-auto px-4">
  {/* 기존 콘텐츠 */}
</main>

// 변경될 구조 (안전한 확장)
<div className="max-w-7xl mx-auto px-4">
  <div className="grid grid-cols-1 lg:grid-cols-[250px_1fr] gap-8">
    <aside className="blog-sidebar sticky top-20">
      {/* 사이드바 콘텐츠 */}
    </aside>
    <main className="min-w-0">
      {/* 기존 콘텐츠 그대로 유지 */}
    </main>
  </div>
</div>
```

## 10. 개발 단계 및 우선순위

### 10.1 Phase 1: 핵심 기능 구현 (High Priority)

1. 사이드바 레이아웃 구조 생성
2. 카테고리 리스트 컴포넌트 구현
3. 태그 클라우드 컴포넌트 구현
4. 헤더에서 기존 메뉴 제거

### 10.2 Phase 2: 고도화 (Medium Priority)

1. 반응형 디자인 적용
2. 성능 최적화 (캐싱, 레이지 로딩)
3. 접근성 개선

### 10.3 Phase 3: 추가 기능 (Low Priority)

1. 애니메이션 효과 추가
2. 사용자 맞춤 설정
3. A/B 테스트 적용

## 11. 참고 자료

### 11.1 디자인 참고

- **티스토리 블로그 사이드바**: <https://soyoung-it.tistory.com/entry/%EB%B8%94%EB%A1%9C%EA%B7%B8%EA%BE%B8%EB%AF%B8%EA%B8%B0-%ED%8B%B0%EC%8A%A4%ED%86%A0%EB%A6%AC-%EC%83%81%EB%8B%A8-%ED%97%A4%EB%8D%94-%EA%BE%B8%EB%AF%B8%EA%B8%B0>

### 11.2 현재 시스템 분석

- 헤더 구현: `apps/blog-web/src/components/layout/site-header.tsx`
- 필터링 구현: `apps/blog-web/src/components/posts/posts-filter.tsx`
- API 엔드포인트: `/api/categories`, `/api/tags`

## 12. 위험 요소 및 고려사항

### 12.1 기술적 위험

- **기존 스타일 충돌 위험**: CSS Variables 시스템 기반이므로 충돌 가능성 높음
- **레이아웃 변경 영향**: max-w-6xl → max-w-7xl 변경 시 기존 그리드 시스템 영향
- **컴포넌트 호환성**: 기존 `.blog-*` 클래스 의존성 높음
- **Tailwind v4 특성**: @theme 블록 구조 변경 시 전체 시스템 영향
- 모바일 환경에서의 사이드바 구현 복잡성
- SEO에 미치는 영향

### 12.2 사용자 경험 위험

- 기존 사용자의 적응 기간 필요
- 네비게이션 방식 변경으로 인한 혼란 가능성

### 12.3 완화 방안

- **CSS 변수 확장 전략**: 기존 변수 수정 절대 금지, 새 변수만 추가 허용
- **클래스 격리 전략**: `.blog-sidebar-*` 접두사로 네임스페이스 분리
- **점진적 구현**: 컨테이너 구조 → 사이드바 껍데기 → 콘텐츠 순서로 단계적 적용
- **스타일 테스트**: 각 단계마다 기존 페이지들 스타일 검증 필수
- 단계적 배포 (A/B 테스트)
- 사용자 피드백 수집 체계 구축
- 롤백 계획 수립

### 12.4 스타일 보존 체크리스트 (신규 추가)

- [ ] 기존 `.blog-header` 스타일 변경 없음
- [ ] 기존 포스트 카드 그리드 레이아웃 동일
- [ ] 다크/라이트 모드 전환 정상 작동
- [ ] 반응형 브레이크포인트 기존과 동일
- [ ] 기존 CSS 변수 값 변경 없음

---

**최종 검토자**: 개발팀  
**승인 필요사항**: UI/UX 디자인 최종안, 개발 일정 확정
